<!DOCTYPE HTML>
<html>
<head>
	<title>Title Here</title>
	<style></style>
	<!--<link rel="stylesheet" type="text/css" href="css/YoutubePage.css" />-->
	<script src="javascript/framework.js"></script>
</head>
<body>
	<main>
		<input type="file" id="input" accept="image/*" onchange="convertImage(this);"/>
	</main>
	<script>
		function convertImage(fileUpload){
			if(fileUpload.files && fileUpload.files[0]){
				var fileReader = new FileReader();
				fileReader.onload = function(eventData){ 
					data = eventData.target.result;
					document.getElementById("image").src = data;
				 };
				fileReader.readAsDataURL(input.files[0]);
			}
		}

		var converter = (function(){
			var canvas = document.createElement("canvas"),
			    ctx = canvas.getContext('2D');

			function convertTo64String(image){
				ctx.height = image.height;
				ctx.width = image.width;
				ctx.drawImage(image,0,0);

				return canvas.toDataURL();
			}
			return convertTo64String;
		})();

		var getTextFile = (function(){
			var textFile = null,
				makeTextFile = function(text){
					var data = new Blob([text], {type : "text/plain"});
					if(textFile !== null){ window.URL.revokeObjectURL(data); }
					textFile = window.URL.createObjectURL(data);

					return textFile;
				};

			return makeTextFile;
		})();

		function clickVirtualLinkWithBlob(blob){
			var link = document.createElement("a");
			link.href = blob;
			link.download = "info.txt";
			link.click();
		}


		(function(){
			var img = document.createElement("img");
			img.id = "image";
			document.body.appendChild(img);
		})();


	</script>
</body>
</html>